{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "../data/earthquake.csv"
    },
    "vconcat":[{
        "width": "container",
        "height": 300,
        "transform": [{
            "bin": {"step": 0.5, "extent": [5, 7]}, 
            "field": "mag", 
            "as": "magnitude"
        }],
        "mark": "area",
        "encoding": {
          "x": {
            "field": "time",
            "type": "temporal",
            "timeUnit": "yearmonth",
            "scale": {"domain":{"param": "brush"}},
            "axis": {"title": "", "tickCount": 5, "grid": false}
          },
          "y": {"aggregate": "count", "title": "Count"},
          "color": {
            "field": "magnitude",
            "scale": {
              "range": ["#fdbe85", "#fd8d3c", "#e6550d", "#bd0026", "#7f0000"]
            },
            "legend": {"values": ["5", "5.5", "6", "6.5"]}
          }
        }
    },{
        "width": "container",
        "height":60,
        "mark":"line",
        "title": "Use the line chart below to filter the above area stacked chart based on time",
        "params":[{
            "name": "brush",
            "select":{"type": "interval", "encodings": ["x"]}
        }],
        "encoding": {
            "x": {
                "field": "time",
                "type": "temporal",
                "timeUnit": "yearmonth",
                "axis": {"tickCount": 5, "grid": false}
            },
            "y": {
                "aggregate": "count",
                "axis": { "tickCount": 3, "grid": false },
                "title": "Count"
            }

        }

    }]




  
  }